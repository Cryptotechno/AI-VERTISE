import{j as t}from"./index-2cJUcWtN.js";import{r as e,R as n}from"./vendor-DLgmCPa4.js";import{C as a,D as s}from"./Calculator-CyXeuPhS.js";import"./ui-CYSJ6tJ4.js";const r="label";function o(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function u(t,e){t.labels=e}function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const a=[];t.datasets=e.map((e=>{const s=t.datasets.find((t=>t[n]===e[n]));return s&&e.data&&!a.includes(s)?(a.push(s),Object.assign(s,e),s):{...e}}))}function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;const n={labels:[],datasets:[]};return u(n,t.labels),c(n,t.datasets,e),n}function l(t,s){const{height:r=150,width:l=300,redraw:d=!1,datasetIdKey:f,type:p,data:m,options:g,plugins:b=[],fallbackContent:h,updateMode:j,...E}=t,w=e.useRef(null),y=e.useRef(null),R=()=>{w.current&&(y.current=new a(w.current,{type:p,data:i(m,f),options:g&&{...g},plugins:b}),o(s,y.current))},v=()=>{o(s,null),y.current&&(y.current.destroy(),y.current=null)};return e.useEffect((()=>{!d&&y.current&&g&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(y.current,g)}),[d,g]),e.useEffect((()=>{!d&&y.current&&u(y.current.config.data,m.labels)}),[d,m.labels]),e.useEffect((()=>{!d&&y.current&&m.datasets&&c(y.current.config.data,m.datasets,f)}),[d,m.datasets]),e.useEffect((()=>{y.current&&(d?(v(),setTimeout(R)):y.current.update(j))}),[d,g,m.labels,m.datasets,j]),e.useEffect((()=>{y.current&&(v(),setTimeout(R))}),[p]),e.useEffect((()=>(R(),()=>v())),[]),n.createElement("canvas",{ref:w,role:"img",height:r,width:l,...E},h)}const d=e.forwardRef(l);function f(t,s){return a.register(s),e.forwardRef(((e,a)=>n.createElement(d,{...e,ref:a,type:t})))}const p=f("doughnut",s),m=({data:e})=>t.jsx(p,{data:e,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{label:t=>{const e=t.raw,n=(e/t.dataset.data.reduce(((t,e)=>t+e),0)*100).toFixed(1);return`$${e.toLocaleString()} (${n}%)`}}}},cutout:"70%",animation:{animateRotate:!0,animateScale:!0}}});export{m as default};
